<?xml version="1.0" encoding="UTF-8"?>
<LightningComponentBundle xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>63.0</apiVersion>
    <isExposed>true</isExposed>
    <masterLabel>Flow Record Buttons</masterLabel>
    <description>Display a record collection as buttons. Clicking a button selects that record and navigates to the next flow screen. Works with any Salesforce object.</description>
    <targets>
        <target>lightning__FlowScreen</target>
    </targets>
    <targetConfigs>
        <targetConfig targets="lightning__FlowScreen">
            <propertyType name="T" extends="SObject" label="Object Type" description="The Salesforce object type for the record collection" />

            <property name="records"
                      type="{T[]}"
                      role="inputOnly"
                      label="Records"
                      description="Collection of records to display as buttons"
                      required="true" />

            <property name="displayFieldApiName"
                      type="String"
                      role="inputOnly"
                      label="Display Field API Name"
                      description="API name of the field to display as button text (e.g., Name, Subject, Title)"
                      required="true"
                      default="Name" />

            <property name="headerText"
                      type="String"
                      role="inputOnly"
                      label="Header Text"
                      description="Optional heading displayed above the buttons" />

            <property name="subHeaderText"
                      type="String"
                      role="inputOnly"
                      label="Sub-Header Text"
                      description="Optional helper text displayed below the heading" />

            <property name="showSearch"
                      type="Boolean"
                      role="inputOnly"
                      label="Show Search Bar"
                      description="When enabled, displays a search bar above the buttons. Buttons that don't match the search are grayed out."
                      default="false" />

            <property name="searchPlaceholder"
                      type="String"
                      role="inputOnly"
                      label="Search Placeholder"
                      description="Placeholder text for the search bar."
                      default="Search..." />

            <property name="mode"
                      type="String"
                      role="inputOnly"
                      label="Selection Mode"
                      description="Controls how button clicks behave. 'auto' (default): click navigates immediately. 'single': click selects one record; click again to deselect. 'multi': click toggles selection of multiple records."
                      default="auto" />

            <property name="buttonColor"
                      type="String"
                      role="inputOnly"
                      label="Button Color"
                      description="Hex color for button background (e.g., #0070d2). Defaults to Salesforce blue."
                      default="#0070d2" />

            <property name="buttonTextColor"
                      type="String"
                      role="inputOnly"
                      label="Button Text Color"
                      description="Hex color for button text (e.g., #ffffff). Defaults to white."
                      default="#ffffff" />

            <property name="selectedRecord"
                      type="{T}"
                      role="outputOnly"
                      label="Selected Record"
                      description="The selected record (auto and single modes)" />

            <property name="selectedRecordId"
                      type="String"
                      role="outputOnly"
                      label="Selected Record ID"
                      description="The selected record ID (auto and single modes)" />

            <property name="selectedRecords"
                      type="{T[]}"
                      role="outputOnly"
                      label="Selected Records"
                      description="Collection of all selected records (multi mode)" />

            <property name="selectedRecordIds"
                      type="String"
                      role="outputOnly"
                      label="Selected Record IDs"
                      description="Comma-separated list of selected record IDs (multi mode)" />
        </targetConfig>
    </targetConfigs>
</LightningComponentBundle>
